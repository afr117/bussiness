<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Recycled Auto Parts Market — Alt</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="{{ url_for('static', filename='uploads/recycled_auto_parts_logo_1.png') }}">

  <style>
    :root{ --cp-blue:#0a3d62; --cp-light:#eef3f8; --cp-mid:#d9e3ef; --cp-accent:#4e9ed4; --cp-body:#f5f7fb; --cp-text:#1d2a35; --maxw:980px; --tooltip-bg:#ffffff; }
    html,body{ margin:0; padding:0; background:var(--cp-body); color:var(--cp-text); font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif; line-height:1.35; }
    .page-wrap{ max-width:var(--maxw); margin:0 auto; padding:0 10px 30px; box-sizing:border-box; }

    .banner{ background: linear-gradient(180deg, var(--cp-blue) 0%, #124e7e 100%); color:#fff; padding:14px 0; border-bottom:4px solid var(--cp-accent); }
    .banner-inner{ max-width:var(--maxw); margin:0 auto; padding:0 10px; display:flex; align-items:center; gap:16px; box-sizing:border-box; }
    .brand-row{ display:flex; align-items:center; gap:12px; }
    .site-logo{ display:block; height:48px; width:auto; border-radius:6px; box-shadow:0 0 0 1px rgba(255,255,255,.08) inset; }
    .site-title{ font-size:28px; font-weight:800; letter-spacing:.3px; margin:0; line-height:1.1; text-transform:uppercase; }
    .site-sub{ font-size:13px; opacity:.9; margin-top:4px; }
    .banner-actions{ margin-left:auto; display:flex; gap:8px; align-items:center; }
    .banner-btn{ background:#fff; color:var(--cp-blue); border:1px solid #e6edf5; padding:8px 12px; border-radius:4px; font-weight:600; text-decoration:none; font-size:14px; box-shadow:0 1px 0 rgba(0,0,0,.05); }
    .banner-btn:hover{ background:#f7fafd; }

    .quicklinks-outer{ width:100%; background:#f3f7fc; border-top:1px solid #e6edf5; border-bottom:1px solid #e6edf5; box-shadow:0 1px 0 #ecf2f8 inset; }
    .quicklinks-inner{ max-width:var(--maxw); margin:0 auto; padding:0 10px; }
    .quicklinks-title{ margin:0; padding:10px 0 0 0; font-size:14px; font-weight:800; color:#2f506d; text-transform:uppercase; letter-spacing:.2px; }
    .quicklinks-row{ display:flex; justify-content:space-evenly; align-items:center; gap:12px; padding:10px 0 12px; flex-wrap:wrap; }
    .quicklinks-row a{ color:#16496f; text-decoration:none; font-size:14px; font-weight:600; padding:6px 10px; border-radius:4px; border:1px solid transparent; white-space:nowrap; }
    .quicklinks-row a:hover{ background:#e9f3ff; border-color:#cfe5ff; }

    .hovercard{ position:relative; display:inline-block; }
    .hovercard:focus-within .hc-content, .hovercard:hover .hc-content{ opacity:1; visibility:visible; transform:translate(-50%, 0); pointer-events:auto; }
    .hc-trigger{ outline:none; }
    .hc-content{
      position:absolute; left:50%; top:120%; transform:translate(-50%, 8px);
      width:260px; background:var(--tooltip-bg); border:1px solid #e6edf5; box-shadow:0 8px 20px rgba(0,0,0,.08);
      border-radius:6px; padding:10px 12px; font-size:13px; color:#203243; z-index:50; opacity:0; visibility:hidden; pointer-events:none;
      transition:opacity .15s ease, transform .15s ease, visibility .15s ease;
    }
    .hc-content::before{ content:""; position:absolute; top:-6px; left:50%; transform:translateX(-50%); border-width:6px; border-style:solid; border-color:transparent transparent #e6edf5 transparent; }
    .hc-content::after{ content:""; position:absolute; top:-5px; left:50%; transform:translateX(-50%); border-width:5px; border-style:solid; border-color:transparent transparent var(--tooltip-bg) transparent; }

    .search-block{ background:var(--cp-light); border:1px solid var(--cp-mid); border-top:none; padding:16px 14px; box-shadow:0 2px 0 #e6edf5 inset; border-radius:4px; margin-top:8px; }
    .search-title{ margin:0 0 10px 0; color:var(--cp-blue); font-weight:800; font-size:18px; text-transform:uppercase; letter-spacing:.2px; }

    .search-grid{ display:grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap:10px; }
    .search-grid label{ font-size:12px; font-weight:700; color:#3a4a56; display:block; margin-bottom:4px; text-transform:uppercase; }
    .search-grid select{ width:100%; padding:9px 10px; border:1px solid #cfd9e6; border-radius:4px; background:#fff; box-sizing:border-box; font-size:14px; }

    .search-actions{ margin-top:10px; display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    .btn-primary{ background:var(--cp-blue); color:#fff; border:none; padding:10px 16px; border-radius:4px; font-weight:800; text-transform:uppercase; letter-spacing:.3px; cursor:pointer; }
    .btn-primary:hover{ background:#0d4f80; }
    .vin-line{ margin-left:auto; display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .vin-line input{ min-width:220px; }

    .panel{ background:#fff; border:1px solid #dfe7f1; box-shadow:0 1px 0 #ecf2f8; border-radius:4px; margin-top:16px; }
    .content-pad{ padding:12px; }
    .notice{ background:#fffbec; border:1px solid #f1e4b6; padding:10px 12px; border-radius:4px; font-size:14px; color:#5c4b1e; }

    .content-with-news{ display:flex; align-items:flex-start; gap:16px; margin-top:16px; }
    .content-main{ flex:1; min-width:0; }
    .news-box{ width:220px; position:sticky; top:12px; align-self:flex-start; }
    .news-head{ background:var(--cp-blue); color:#fff; padding:10px 12px; border-radius:4px 4px 0 0; font-size:14px; font-weight:800; letter-spacing:.2px; text-transform:uppercase; }
    .news-body{ padding:10px 12px; }
    .news-item{ margin:0 0 8px 0; font-size:13px; color:#203243; }
    .news-item a{ color:#0a3d62; text-decoration:none; font-weight:700; }
    .news-item a:hover{ text-decoration:underline; }

    .inventory{ margin-top:18px; }
    .products{ display:flex; flex-wrap:wrap; justify-content:center; gap:16px; }
    .card{ width:240px; background:#fff; border:1px solid #e3ebf5; border-radius:4px; box-shadow:0 1px 0 #ecf2f9; padding:10px; }
    .card img{ width:100%; height:auto; border-radius:3px; background:#fff; }
    .card h4{ margin:8px 0 4px; font-size:16px; color:#123f63; }
    .card p{ margin:4px 0; font-size:13px; color:#203243; }

    footer{ margin-top:30px; padding:16px 0 26px; text-align:center; color:#587188; font-size:13px; }

    @media (max-width:1024px){
      .search-grid{ grid-template-columns: 1fr 1fr; }
      .vin-line{ margin-left:0; }
      .content-with-news{ flex-direction:column; }
      .news-box{ width:auto; position:static; }
    }
  </style>
</head>
<body>

  <div class="banner">
    <div class="banner-inner">
      <div class="brand-row">
        <img class="site-logo" src="{{ url_for('static', filename='uploads/recycled_auto_parts_logo_1.png') }}" alt="Recycled Auto Parts logo" width="48" height="48">
        <div>
          <h1 class="site-title">Recycled Auto Parts Market — Alt</h1>
          <div class="site-sub">Alternate landing with same search experience</div>
        </div>
      </div>
      <div class="banner-actions">
        <a class="banner-btn" href="{{ url_for('admin') }}">Admin Login</a>
      </div>
    </div>
  </div>

  <!-- Full-bleed Quick Links -->
  <div class="quicklinks-outer">
    <div class="quicklinks-inner">
      <h3 class="quicklinks-title">Quick Links</h3>
      <div class="quicklinks-row">
        <a href="{{ url_for('home') }}">Home</a>
        <a href="{{ url_for('alt_page', category='Buy Parts') }}">Buy Parts</a>
        <a href="#">Language</a>
        <a href="{{ url_for('alt_page', category='Wheels & Tires') }}">Wheels &amp; Tires</a>
        <a href="{{ url_for('alt_page', category='Electrical Components') }}">Electrical Components</a>
        <a href="{{ url_for('alt_page', category='Interior Parts') }}">Interior Parts</a>

        <div class="hovercard">
          <a href="#" class="hc-trigger" tabindex="0">About Us</a>
          <div class="hc-content" role="dialog" aria-label="About Us">
            We’re a local network of recyclers offering quality-tested used parts at fair prices. Warranty available on most items.
          </div>
        </div>
        <div class="hovercard">
          <a href="#" class="hc-trigger" tabindex="0">Contact Us</a>
          <div class="hc-content" role="dialog" aria-label="Contact Us">
            Call <strong>(555) 123-4567</strong> or email <strong>sales@example.com</strong>. 123 Salvage Rd, Springfield, IL.
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="page-wrap">
    <div id="search" class="search-block panel">
      <h2 class="search-title">
        Find Used Auto Parts
        {% set filter_category = selected_category %}
        {% if filter_category %}<small style="font-size:13px; font-weight:600; color:#315a77;">&nbsp;— Showing: {{ filter_category }}</small>{% endif %}
      </h2>

      {% set preset_cats = ["Buy Parts","Wheels & Tires","Electrical Components","Interior Parts"] %}
      <form method="get" action="{{ url_for('alt_page') }}">
        <div class="search-grid">
          <div>
            <label for="year">Year</label>
            <select id="year" name="year">
              <option value="">Any</option>
              {% for y in range(2026, 1959, -1) %}
                <option value="{{ y }}" {% if request.args.get('year') == y|string %}selected{% endif %}>{{ y }}</option>
              {% endfor %}
            </select>
          </div>
          <div>
            <label for="make">Make</label>
            <select id="make" name="make">
              <option value="">Any</option>
            </select>
          </div>
          <div>
            <label for="model">Model</label>
            <select id="model" name="model" disabled>
              <option value="">Any</option>
            </select>
          </div>
          <div>
            <label for="category">Part Category</label>
            <select id="category" name="category">
              <option value="">All Categories</option>
              {% for name in preset_cats %}
                <option value="{{ name }}" {% if (request.args.get('category') or selected_category) == name %}selected{% endif %}>{{ name }}</option>
              {% endfor %}
              {% for c in categories %}
                {% if c not in preset_cats %}
                  <option value="{{ c }}" {% if (request.args.get('category') or selected_category) == c %}selected{% endif %}>{{ c }}</option>
                {% endif %}
              {% endfor %}
            </select>
          </div>
        </div>

        <div class="search-actions">
          <button class="btn-primary" type="submit">Search Parts</button>
          <div class="vin-line">
            <label for="vin"><strong>VIN Lookup:</strong></label>
            <input id="vin" name="vin" type="text" maxlength="17" placeholder="Enter 17-digit VIN" />
          </div>
        </div>
      </form>
    </div>

    <!-- Content + Right News -->
    <div class="content-with-news">
      <div class="content-main">
        <section class="panel content-pad">
          <div class="notice">This alternate page filters by category when you land here from the top links.</div>

          <div class="inventory">
            <div class="products">
              {% for product in products %}
              <div class="card">
                <img src="{{ product.image }}" alt="{{ product.name }}">
                <h4>{{ product.name }}</h4>
                <p>{{ product.description }}</p>
                {% if product.phone %}<p><strong>Phone:</strong> {{ product.phone }}</p>{% endif %}
                {% if product.category %}<p><strong>Category:</strong> {{ product.category }}</p>{% endif %}
              </div>
              {% endfor %}
            </div>
          </div>
        </section>
      </div>

      <aside class="news-box panel" aria-label="Latest News">
        <div class="news-head">News</div>
        <div class="news-body">
          <p class="news-item"><a href="#">Holiday Hours</a> — Open Saturday 9–1, closed Sunday.</p>
          <p class="news-item"><a href="#">Price Drop</a> — Alternators starting at $65.</p>
          <p class="news-item"><a href="#">Trade-Ins</a> — Ask about core return credits.</p>
        </div>
      </aside>
    </div>

    <footer>© {{ 2025 }} Recycled Auto Parts Market — Alt.</footer>
  </div>

  <!-- Make→Model population (same as index) -->
  <script>
    (function(){
      const MAKE_MODELS = {
        "Ford": ["F-150","Focus","Fusion","Escape","Explorer"],
        "Chevrolet": ["Silverado","Malibu","Cruze","Equinox","Tahoe"],
        "Toyota": ["Camry","Corolla","RAV4","Tacoma","Highlander"],
        "Honda": ["Civic","Accord","CR-V","Pilot","Odyssey"],
        "Nissan": ["Altima","Sentra","Rogue","Frontier","Pathfinder"],
        "BMW": ["3 Series","5 Series","X3","X5"],
        "Mercedes-Benz": ["C-Class","E-Class","GLC","GLE"],
        "Volkswagen": ["Jetta","Passat","Tiguan","Golf"]
      };
      const makeSel = document.getElementById('make');
      const modelSel = document.getElementById('model');

      Object.keys(MAKE_MODELS).sort().forEach(m=>{
        const opt = document.createElement('option'); opt.value = m; opt.textContent = m; makeSel.appendChild(opt);
      });

      function fillModelsForMake(mk){
        modelSel.innerHTML = '';
        const any = document.createElement('option'); any.value = ''; any.textContent = 'Any'; modelSel.appendChild(any);
        if (mk && MAKE_MODELS[mk]) {
          MAKE_MODELS[mk].forEach(md=>{ const o=document.createElement('option'); o.value=md; o.textContent=md; modelSel.appendChild(o); });
          modelSel.disabled = false;
        } else {
          modelSel.disabled = false;
        }
      }
      makeSel.addEventListener('change', e=> fillModelsForMake(e.target.value));
      fillModelsForMake('');
    })();
  </script>
</body>
</html>
